<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://www.layuicdn.com/layui/css/layui.css" rel="stylesheet">
  <link rel="stylesheet" href="./css/login.css">
</head>

<body>
  <div class="login-wrap">
    <div class="loginBox">
      <ul id="L-ul">
        <li class="login1-li">
          <p class="L-big">注册</p>
          <div class="L-short L-long"></div>
        </li>
        <li class="login1-li">
          <p class="LoginTitle">密码登录</p>
          <div class="L-short login-L"></div>
        </li>
      </ul>
      <div class="L-content" style="display: block;">
        <div class="account-tabcon-start">
          <div class="account-form">
            <div class="account-form-error"><span class="hide"></span></div>

            <div class="account-form-raw">
              <label class="account-form-label">手机号:</label>
              <div class="account-form-field account-form-field-phone">
                <input type="phone" name="phone" maxlength="13"  autocomplete="off" class="account-form-input admin" placeholder="手机号" tabindex="1">
                <div class="account-form-field-area-code">
                  <div class="account-form-field-area-code-label js-choose-district">+86</div>
                </div>
              </div>
            </div>

            <div class="account-form-raw">
              <label class="account-form-label">地址:</label>
              <div class="account-form-field account-form-field-phone">
                <input type="text" name="dizhi" maxlength="13"  autocomplete="off" class="account-form-input admin" placeholder="地址" style="padding-left: 10px;" >
                <div class="account-form-field-area-code">
                </div>
              </div>
            </div>

            <div class="account-form-raw">
              <label class="account-form-label">银行账户:</label>
              <div class="account-form-field account-form-field-phone">
                <input type="text" name="dizhi" maxlength="13"  autocomplete="off" class="account-form-input admin" placeholder="银行账户" style="padding-left: 10px;" >
                <div class="account-form-field-area-code">
                </div>
              </div>
            </div>

            <div class="account-form-raw">
              <label class="account-form-label">密码:</label>
              <div class="account-form-field account-form-codes">
                <input id="code" type="text" name="code" maxlength="6" class="account-form-input psw"
                  placeholder="设置密码" tabindex="2" autocomplete="off" style="padding-left: 10px;">
                <div class="account-form-field-code">
                </div>
              </div>
            </div>

            <div class="account-form-raw">
              <label class="account-form-label">确认密码:</label>
              <div class="account-form-field account-form-codes">
                <input id="code" type="text" name="code" maxlength="6" class="account-form-input psw0"
                  placeholder="确认密码" tabindex="2" autocomplete="off" style="padding-left: 10px;">
                <div class="account-form-field-code">
                </div>
              </div>
            </div>
            <div class="account-form-field-submit ">
              <img src="./img/loading1.svg" class="loading layui-anim layui-anim-rotate layui-anim-loop"lt="">
              <a class="btn btn-phone">注册</a>
            </div>
          </div>
        </div>
      </div>
      <div class="L-content L-content2">
        <div class="account-form">
          <div class="account-form-error"><span class="hide"></span></div>
          <div class="account-form-raw">
            <label class="account-form-label">用户名:</label>
            <div class="account-form-field">
              <input id="username" name="username" type="text" autocomplete="off" class="account-form-input" placeholder="手机号" tabindex="1" style="padding-left: 10px;">
              <span class="icon clear-input hide"></span>
            </div>
          </div>
          <div class="account-form-raw">
            <label class="account-form-label">密 码:</label>
            <div class="account-form-field">
              <input id="password" type="password" name="password"  autocomplete="off" class="account-form-input password"
                placeholder="密码" tabindex="3" style="padding-left: 10px;">
              <span class="icon openpwd hide"></span>
            </div>
          </div>
          <div class="account-form-field-submit ">
            <a class="btn btn-login">登录</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://www.layuicdn.com/layui/layui.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script>
    // 二级tab切换 注册或密码登录
    var Llis = document.querySelectorAll('.login1-li')
    var lContent = document.querySelectorAll('.L-content')
    for (let i = 0; i < Llis.length; i++) {
      Llis[i].onclick = function () {
        $('.L-big').removeClass('L-big')
        this.children[0].classList.toggle('L-big')
        $('.L-long').removeClass('L-long')
        this.children[1].classList.toggle('L-long')
        $('.L-content').css('display', 'none')
        lContent[i].style.display = 'block'
      }
    }
    //点击注册跳转到登录
    var admin = document.querySelector('.admin')
    var psw = document.querySelector('.psw')
    var psw0 = document.querySelector('.psw0')
    $('.btn-phone').click(function () {
      console.log(admin.value,psw.value,psw0.value);
      // 当输入用户名和密码后点击登录
      if (admin.value && psw.value&&psw0.value) {
        if(psw.value!==psw0.value) {
          alert('两次密码不一致')
        }else {
          // this.href = './index.html';
          $('.loading').css('display','block')
          localStorage.setItem('admin', admin.value);
          localStorage.setItem('psw', psw.value); 
          setTimeout(function(){
            $('.loading').css('display','none')
            $('.L-big').removeClass('L-big')
            $('.L-long').removeClass('L-long')
            $('.L-content').css('display', 'none')
            
            $('.LoginTitle').addClass('L-big')
            $('.login-L').addClass('L-long')
            $('.L-content2').css('display','block')  
          },2500);   
          
        }
      }else {
        alert('请完善账号和密码')
      }
    })
    // 点击登录跳转到首页
    var admin1 = document.querySelector('#username')
    var psw1 = document.querySelector('#password')
    $('.btn-login').click(function () {
      var userID=localStorage.getItem('admin');
      var userPsw=localStorage.getItem('psw');  
      console.log('密码',admin1,psw1);
      // 当输入用户名和密码后点击登录
      if (admin1.value && psw1.value) {
        if (admin1.value==userID) {
          if(psw1.value==userPsw) {
            this.href = './index.html';
          }else {
            alert('密码错误')
          }
        }else {
          alert('未注册，先去注册')
        }
      }else {
        alert('请完善账号和密码')
      }
    })
  </script>

</body>

</html>